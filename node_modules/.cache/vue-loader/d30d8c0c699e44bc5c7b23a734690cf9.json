{"remainingRequest":"/home/starscream97/Documents/Instagram/insta/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/starscream97/Documents/Instagram/insta/src/components/Sidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/starscream97/Documents/Instagram/insta/src/components/Sidebar.vue","mtime":1553244996311},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nvar prevScrollpos = window.pageYOffset;\nwindow.onscroll = function() {\nvar currentScrollPos = window.pageYOffset;\n\n//   if (prevScrollpos > currentScrollPos) {\n    if(document.querySelector('.sidebar-content')){\n        if (currentScrollPos<90) {\n            document.querySelector(\".sidebar-content\").style.marginTop = \"0\";\n        } else {\n            document.querySelector(\".sidebar-content\").style.marginTop = \"-100px\";\n        }\n    }\n \n//   prevScrollpos = currentScrollPos;\n}\n\nconst moment=require('moment');\n// console.log(moment)\n\nexport default {\n    data(){\n        return{\n            currentUser:{},\n            newStories:[],\n            users:[],\n            root_url:process.env.VUE_APP_ROOT_API,\n            isLoaded:false,\n            isLoggedIn:false,\n        }\n    },\n    filters: {\n        formatDate: function (value) {\n            if(value)\n                return moment(value.toString()).startOf('day').fromNow();\n        }\n    },\n    sockets:{\n        someonePosted(data){\n            this.newStories.unshift(data);\n        }\n    },\n    methods:{\n    },\n    created(){\n        axios.get(`${process.env.VUE_APP_ROOT_API}/api/post?perPage=4&page=1`).then(res=>{\n            // console.log(res.data.data.docs)\n            this.newStories=res.data.data.docs;\n            this.isLoaded=true;\n        })\n        axios.post(`${process.env.VUE_APP_ROOT_API}/api/post/discover`).then(res=>{\n            this.users=res.data.data.users;\n        })\n        \n        this.currentUser=JSON.parse(localStorage.getItem('user'));\n        if(this.currentUser)\n            this.isLoggedIn=true;\n    }\n\n}\n",{"version":3,"sources":["Sidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"Sidebar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div v-if=\"isLoaded\" class=\"sidebar-content\">\n        <div class=\"profile-section\" v-if=\"isLoggedIn\">\n            <div class=\"profileImage\"  >\n                <img :src=\"currentUser.profileImage\" alt=\"\">\n            </div>\n            <div class=\"profile-content\">\n                <h5>{{currentUser.name}}</h5>\n                <h6>@{{currentUser.username}}</h6>\n            </div>\n        </div>\n        <div class=\"stories-section\">\n            <div class=\"stories\">\n                <h5>New Stories</h5>\n                <div class=\"story\" v-for=\"story in newStories.slice(0,3)\" :key=\"story._id\">\n                    <div class=\"story-image\"><img :src=\"root_url + '/' + story.pictureURL\" alt=\"\"></div>\n                    <div class=\"story-content\">\n                        <div class=\"story-writer\"><h4>{{story.user.name}}</h4></div>\n                        <div class=\"story-written-date\">{{story.createdAt | formatDate}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"you-might-know-section\">\n            <h5>You Might Know</h5>\n            <div class=\"story-people\">\n                <div class=\"story-person\" v-for=\"person in users.slice(0,3)\" :key=\"person._id\">\n                    <div class=\"person-image\"><img :src=\"person.profileImage\" alt=\"\"></div>\n                    <div class=\"person-details\">\n                        <h4>{{person.name}}</h4>\n                        <p>{{person.followers.length}} followers</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n     \n    </div>\n</template>\n<script>\n\nvar prevScrollpos = window.pageYOffset;\nwindow.onscroll = function() {\nvar currentScrollPos = window.pageYOffset;\n\n//   if (prevScrollpos > currentScrollPos) {\n    if(document.querySelector('.sidebar-content')){\n        if (currentScrollPos<90) {\n            document.querySelector(\".sidebar-content\").style.marginTop = \"0\";\n        } else {\n            document.querySelector(\".sidebar-content\").style.marginTop = \"-100px\";\n        }\n    }\n \n//   prevScrollpos = currentScrollPos;\n}\n\nconst moment=require('moment');\n// console.log(moment)\n\nexport default {\n    data(){\n        return{\n            currentUser:{},\n            newStories:[],\n            users:[],\n            root_url:process.env.VUE_APP_ROOT_API,\n            isLoaded:false,\n            isLoggedIn:false,\n        }\n    },\n    filters: {\n        formatDate: function (value) {\n            if(value)\n                return moment(value.toString()).startOf('day').fromNow();\n        }\n    },\n    sockets:{\n        someonePosted(data){\n            this.newStories.unshift(data);\n        }\n    },\n    methods:{\n    },\n    created(){\n        axios.get(`${process.env.VUE_APP_ROOT_API}/api/post?perPage=4&page=1`).then(res=>{\n            // console.log(res.data.data.docs)\n            this.newStories=res.data.data.docs;\n            this.isLoaded=true;\n        })\n        axios.post(`${process.env.VUE_APP_ROOT_API}/api/post/discover`).then(res=>{\n            this.users=res.data.data.users;\n        })\n        \n        this.currentUser=JSON.parse(localStorage.getItem('user'));\n        if(this.currentUser)\n            this.isLoggedIn=true;\n    }\n\n}\n</script>\n"]}]}