{"remainingRequest":"/home/starscream97/Documents/Instagram/insta/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/starscream97/Documents/Instagram/insta/src/views/SearchPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/starscream97/Documents/Instagram/insta/src/views/SearchPage.vue","mtime":1553240634840},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport axios from 'axios';\n\nexport default {\n    data(){\n        return{\n            searchTerm:'',\n            userResults:[],\n            postResults:[],\n            isLoaded:false,\n            root_url:process.env.VUE_APP_ROOT_API,\n\n        }\n    },\n    computed:{\n        fetchSearchResults(){\n            axios.get(`${process.env.VUE_APP_ROOT_API}/api/post/search/${this.searchTerm}`)\n                    .then(res=>{\n                        this.userResults=res.data.data.userResults;\n                        this.postResults=res.data.data.postResults\n                        this.isLoaded=true;\n                    })\n        }\n    },\n     beforeRouteUpdate(to){\n         this.searchTerm=to.params.searchTerm\n         this.fetchSearchResults;\n    },\n    created(){\n        this.searchTerm=this.$route.params.searchTerm;\n        this.fetchSearchResults;\n    }\n\n}\n",{"version":3,"sources":["SearchPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"SearchPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"container\" v-if=\"isLoaded\">\n        <div class=\"discover\">\n            <div class=\"discover-people-section\">\n                <h4 class=\"discover-header\">Users</h4>\n                <div class=\"discover-people\" v-if=\"userResults.length>0\">\n                    <div class=\"people\" v-for=\"user in userResults.slice(0,6)\" :key=\"user._id\">\n                        <img :src=\"user.profileImage\" alt=\"\">\n                        <h5>{{user.name}}</h5>\n                        <p>{{user.followers.length}} followers</p>\n                        <button @click.prevent=\"followPerson(user._id)\">Follow</button>\n                    </div>\n                </div>\n                <div v-else><p>No users found with the search term {{this.searchTerm}}</p></div>\n            </div>\n            <div class=\"discover-post-section\">\n                <h4 class=\"discover-header\">Stories</h4>\n                <div class=\"discover-post-wrapper\" v-if=\"postResults.length>0\">\n                    <div class=\"discover-post\" v-for=\"post in postResults.slice(0,10)\" :key=\"post._id\">\n                        <p>{{post.title}}</p>\n                        <div class=\"discover-post-image\">\n                            <img :src=\"root_url + '/' + post.pictureURL\" alt=\"\" >\n                            <div class=\"post-overlay\" @click=\"goToPhoto(post._id)\">\n                                <div class=\"post-likes\">\n                                    <i class=\"fas fa-heart\"></i>\n                                    <h5>{{post.likes}}</h5>\n                                </div>\n                                <div class=\"post-comments\">\n                                    <i class=\"fas fa-comment\"></i>\n                                    <h5>{{post.comments.length}}</h5>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div v-else><p>No stories found with the search term {{this.searchTerm}}</p></div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n    data(){\n        return{\n            searchTerm:'',\n            userResults:[],\n            postResults:[],\n            isLoaded:false,\n            root_url:process.env.VUE_APP_ROOT_API,\n\n        }\n    },\n    computed:{\n        fetchSearchResults(){\n            axios.get(`${process.env.VUE_APP_ROOT_API}/api/post/search/${this.searchTerm}`)\n                    .then(res=>{\n                        this.userResults=res.data.data.userResults;\n                        this.postResults=res.data.data.postResults\n                        this.isLoaded=true;\n                    })\n        }\n    },\n     beforeRouteUpdate(to){\n         this.searchTerm=to.params.searchTerm\n         this.fetchSearchResults;\n    },\n    created(){\n        this.searchTerm=this.$route.params.searchTerm;\n        this.fetchSearchResults;\n    }\n\n}\n</script>\n"]}]}