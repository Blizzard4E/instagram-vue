{"remainingRequest":"/home/starscream97/Documents/Instagram/insta/node_modules/babel-loader/lib/index.js!/home/starscream97/Documents/Instagram/insta/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/starscream97/Documents/Instagram/insta/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/starscream97/Documents/Instagram/insta/src/components/Sidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/starscream97/Documents/Instagram/insta/src/components/Sidebar.vue","mtime":1553251065513},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/starscream97/Documents/Instagram/insta/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar prevScrollpos = window.pageYOffset;\n\nwindow.onscroll = function () {\n  var currentScrollPos = window.pageYOffset; //   if (prevScrollpos > currentScrollPos) {\n\n  if (document.querySelector('.sidebar-content')) {\n    if (currentScrollPos < 90) {\n      document.querySelector(\".sidebar-content\").style.marginTop = \"0\";\n    } else {\n      document.querySelector(\".sidebar-content\").style.marginTop = \"-100px\";\n    }\n  } //   prevScrollpos = currentScrollPos;\n\n};\n\nvar moment = require('moment');\n\nvar axios = require('axios'); // console.log(moment)\n\n\nexport default {\n  data: function data() {\n    return {\n      currentUser: {},\n      newStories: [],\n      users: [],\n      root_url: process.env.VUE_APP_ROOT_API,\n      isLoaded: false,\n      isLoggedIn: false\n    };\n  },\n  filters: {\n    formatDate: function formatDate(value) {\n      if (value) return moment(value.toString()).startOf('day').fromNow();\n    }\n  },\n  sockets: {\n    someonePosted: function someonePosted(data) {\n      this.newStories.unshift(data);\n    }\n  },\n  methods: {},\n  created: function created() {\n    var _this = this;\n\n    axios.get(\"\".concat(process.env.VUE_APP_ROOT_API, \"/api/post?perPage=4&page=1\")).then(function (res) {\n      // console.log(res.data.data.docs)\n      _this.newStories = res.data.data.docs;\n      _this.isLoaded = true;\n    });\n    axios.post(\"\".concat(process.env.VUE_APP_ROOT_API, \"/api/post/discover\")).then(function (res) {\n      _this.users = res.data.data.users;\n    });\n    this.currentUser = JSON.parse(localStorage.getItem('user'));\n    if (this.currentUser) this.isLoggedIn = true;\n  }\n};",{"version":3,"sources":["Sidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,IAAA,aAAA,GAAA,MAAA,CAAA,WAAA;;AACA,MAAA,CAAA,QAAA,GAAA,YAAA;AACA,MAAA,gBAAA,GAAA,MAAA,CAAA,WAAA,CADA,CAGA;;AACA,MAAA,QAAA,CAAA,aAAA,CAAA,kBAAA,CAAA,EAAA;AACA,QAAA,gBAAA,GAAA,EAAA,EAAA;AACA,MAAA,QAAA,CAAA,aAAA,CAAA,kBAAA,EAAA,KAAA,CAAA,SAAA,GAAA,GAAA;AACA,KAFA,MAEA;AACA,MAAA,QAAA,CAAA,aAAA,CAAA,kBAAA,EAAA,KAAA,CAAA,SAAA,GAAA,QAAA;AACA;AACA,GAVA,CAYA;;AACA,CAbA;;AAeA,IAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA,C,CACA;;;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,OAAA,CAAA,GAAA,CAAA,gBAJA;AAKA,MAAA,QAAA,EAAA,KALA;AAMA,MAAA,UAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,oBAAA,KAAA,EAAA;AACA,UAAA,KAAA,EACA,OAAA,MAAA,CAAA,KAAA,CAAA,QAAA,EAAA,CAAA,CAAA,OAAA,CAAA,KAAA,EAAA,OAAA,EAAA;AACA;AAJA,GAXA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,IADA,EACA;AACA,WAAA,UAAA,CAAA,OAAA,CAAA,IAAA;AACA;AAHA,GAjBA;AAsBA,EAAA,OAAA,EAAA,EAtBA;AAwBA,EAAA,OAxBA,qBAwBA;AAAA;;AACA,IAAA,KAAA,CAAA,GAAA,WAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,iCAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,KAJA;AAKA,IAAA,KAAA,CAAA,IAAA,WAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,yBAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,KAFA;AAIA,SAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;AACA,QAAA,KAAA,WAAA,EACA,KAAA,UAAA,GAAA,IAAA;AACA;AArCA,CAAA","sourcesContent":["<template>\n    <div v-if=\"isLoaded\" class=\"sidebar-content\">\n        <div class=\"profile-section\" v-if=\"isLoggedIn\">\n            <div class=\"profileImage\"  >\n                <img :src=\"currentUser.profileImage\" alt=\"\">\n            </div>\n            <div class=\"profile-content\">\n                <h5>{{currentUser.name}}</h5>\n                <h6>@{{currentUser.username}}</h6>\n            </div>\n        </div>\n        <div class=\"stories-section\">\n            <div class=\"stories\">\n                <h5>New Stories</h5>\n                <div class=\"story\" v-for=\"story in newStories.slice(0,3)\" :key=\"story._id\">\n                    <div class=\"story-image\"><img :src=\"root_url + '/' + story.pictureURL\" alt=\"\"></div>\n                    <div class=\"story-content\">\n                        <div class=\"story-writer\"><h4>{{story.user.name}}</h4></div>\n                        <div class=\"story-written-date\">{{story.createdAt | formatDate}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"you-might-know-section\">\n            <h5>You Might Know</h5>\n            <div class=\"story-people\">\n                <div class=\"story-person\" v-for=\"person in users.slice(0,3)\" :key=\"person._id\">\n                    <div class=\"person-image\"><img :src=\"person.profileImage\" alt=\"\"></div>\n                    <div class=\"person-details\">\n                        <h4>{{person.name}}</h4>\n                        <p>{{person.followers.length}} followers</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n     \n    </div>\n</template>\n<script>\n\nvar prevScrollpos = window.pageYOffset;\nwindow.onscroll = function() {\nvar currentScrollPos = window.pageYOffset;\n\n//   if (prevScrollpos > currentScrollPos) {\n    if(document.querySelector('.sidebar-content')){\n        if (currentScrollPos<90) {\n            document.querySelector(\".sidebar-content\").style.marginTop = \"0\";\n        } else {\n            document.querySelector(\".sidebar-content\").style.marginTop = \"-100px\";\n        }\n    }\n \n//   prevScrollpos = currentScrollPos;\n}\n\nconst moment=require('moment');\nconst axios=require('axios');\n// console.log(moment)\n\nexport default {\n    data(){\n        return{\n            currentUser:{},\n            newStories:[],\n            users:[],\n            root_url:process.env.VUE_APP_ROOT_API,\n            isLoaded:false,\n            isLoggedIn:false,\n        }\n    },\n    filters: {\n        formatDate: function (value) {\n            if(value)\n                return moment(value.toString()).startOf('day').fromNow();\n        }\n    },\n    sockets:{\n        someonePosted(data){\n            this.newStories.unshift(data);\n        }\n    },\n    methods:{\n    },\n    created(){\n        axios.get(`${process.env.VUE_APP_ROOT_API}/api/post?perPage=4&page=1`).then(res=>{\n            // console.log(res.data.data.docs)\n            this.newStories=res.data.data.docs;\n            this.isLoaded=true;\n        })\n        axios.post(`${process.env.VUE_APP_ROOT_API}/api/post/discover`).then(res=>{\n            this.users=res.data.data.users;\n        })\n        \n        this.currentUser=JSON.parse(localStorage.getItem('user'));\n        if(this.currentUser)\n            this.isLoggedIn=true;\n    }\n\n}\n</script>\n"],"sourceRoot":"src/components"}]}